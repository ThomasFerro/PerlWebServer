{"name":"IBWS - Perl Web Server","tagline":"Web Server in Perl","body":"# PerlWebServer\r\n\r\n## Sommaire\r\n\r\n  - Todo list\r\n  - Guide utilisateur rapide\r\n    - Configuration\r\n    - Lancer le serveur\r\n    - Tester le serveur\r\n  - Documentation technique\r\n    - Lancement du serveur\r\n    - Gestion des connexions\r\n    - Fermeture du serveur\r\n    - Affichage du status\r\n\r\n## TODO\r\n\r\n- [x] Configuration\r\n- [ ] Requêtes GET\r\n  - [x] Vérification de la requête\r\n  - [x] Parcours des projections\r\n  - [x] Traitement des requêtes vers le système de fichiers\r\n  - [ ] Traitement des requêtes vers des programmes CGI\r\n- [x] Journal des évènements\r\n- [x] Traitement des requêtes en parallèle\r\n- [ ] Gestion des erreurs\r\n  - [x] 200 OK\r\n  - [x] 400 Bad Request\r\n  - [ ] 403 Forbidden\r\n  - [x] 404 Not Found\r\n  - [x] 405 Method Not Allowed\r\n  - [x] 415 Unsupported Media Type\r\n  - [x] 503 Service Unavailable\r\n  - [x] 505 HTTP Version Not Supported\r\n- [x] Utilisation\r\n\r\n## Guide utilisateur rapide\r\n\r\n### Configuration\r\n\r\nAvant de lancer le serveur, veuillez ajuster les paramètres à vos besoins dans le fichier **commanche.conf** en suivant le modèle déja présent. Vous pourrez y modifier :\r\n  - Le port d'écoute;\r\n  - La page d'erreur par défaut;\r\n  - Le fichier index dans les répertoires;\r\n  - Le nombre de connexions simultanées maximum;\r\n  - Le fichier de journal des évènements (attention aux droits sur le dossier contenant ce fichier);\r\n  - Les routes de projection.\r\n  \r\n### Lancer le serveur\r\n\r\nPour lancer le serveur, il vous suffit d'éxecuter, depuis le répertoire contenant votre script et votre fichier de configuration, la commande `./commanche start`.\r\n\r\nVous pouvez à tout moment arrêter le serveur en utilisant la commande `./commanche stop`.\r\n\r\nDe plus, vous pouvez récupérer les informations concernant votre serveur en utilisant la commande `./commanche status`. Cette dernière vous affichera le PID du processus principal, le nombre de requêtes reçues et traitées ainsi que le nombre d'ouvriers actifs et leur PID.\r\n\r\n### Tester le serveur\r\n\r\nVous pouvez tester votre serveur simplement avec un navigateur, sur la même machine que le serveur. Pour ce faire, entrez simplement l'url *localhost:8080*, 8080 étant le port et sera donc à changer si vous avez modifié le fichier de configuration.  \r\n\r\n\r\n## Documentation technique\r\n\r\n### Lancement du serveur\r\n\r\nAu lancement du serveur, le script vérifie si ce dernier n'est pas déjà lancé grâce au fichier caché puis lancer le chargement des configuration. Il ne se lance pas si un des paramètres est incorrect. \r\n\r\nAprès le chargement des configurations, le serveru créer le fichier de log.\r\n\r\nLa dernière étape dans le démarrage du serveur et de créer un fils qui s'occupera de la gestion des connexions afin de rendre la main sur le terminal.\r\n\r\n### Gestion des connexions\r\n\r\nLe fils initialise les paramètres et la socket du serveur puis rentre dans une boucle infinie qui accepte les connexions puis arrête les fils qui ont terminés leur travail.\r\n\r\nLes connexions, donc, se font en écoutant sur le port spécifier et en acceptant les demande de connexions dans la limite de connexions maximum. Si cette limite est dépassée, le serveur envoie lui-même une erreur au client.\r\n\r\nSinon, le serveur créer un fils qui va s'occuper d'appeler la méthode de vérification de requête et envoyer l'erreur correspondante si besoin est. Enfin, si la requête est valide, il va parcourir les projections à la recherche du fichier demandé et enverra la page demandée si elle existe, ou une liste des éléments du dossier si la ressource demandée en est un. Le fils ferme ensuite la connexion au client et notifie le processus principal du succès de la requête avant de se fermer.\r\n\r\n### Fermeture du serveur\r\n\r\nLa fermeture du serveur peut intérvenir n'importe quand et se contente de fermer le processus principal et supprimer le fichier caché.\r\n\r\n### Affichage du status\r\n\r\nLa version actuelle de l'écriture du status du serveur utilise un fichier que le serveur rempli à chaque requête. Le processus d'écriture de status y récupère le PID du processus principal, le nombre de requêtes reçues et terminées et le nombre d'ouvrier actifs ainsi que leur PID.\r\n\r\n\r\nToutes les requêtes, les ouvertures du serveur et les fermetures de ce dernier sont consignées dans le journal d'événements.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}